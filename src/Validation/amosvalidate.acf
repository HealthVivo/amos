## Validate an assembly in afg format

INPUTS = $(PREFIX).afg
BINDIR=/fs/sz-user-supported/Linux-x86_64/bin

PREF = $(strip .frg PREFIX)


## asmQC
30: $(BINDIR)/asmQC -b $(PREF).bnk -feat -numsd 2

## analyzeSNPs
40: $(BINDIR)/analyzeSNPs -b $(PREF).bnk -S -cumqv 40 -minsnps 2 -r -e -H > $(PREF).snps

## ClusterSnps
50: $(BINDIR)/clusterSnps $(PREF).snps > $(PREF).snp.feat

## Load SNP Features
80: $(BINDIR)/loadFeatures $(PREF).bnk $(PREF).snp.feat

## Find High Read Coveage
110: $(BINDIR)/analyze-read-depth $(PREF).bnk -c 1000 -x 3 > $(PREF).depth.feat

## Load Coverage Features
120: $(BINDIR)/loadFeatures $(PREF).bnk $(PREF).depth.feat


## Dump Features
1000: $(BINDIR)/dumpFeatures $(PREF).bnk > $(PREF).all.feat

## Get Suspicious Features
1010: egrep "HIGH_SNP|HIGH_SHORT" $(PREF).all.feat | sort -k1 -nk3 > $(PREF).suspicious.feat

## Create Suspicious Regions
1020: $(BINDIR)/suspiciousfeat2region $(PREF).suspicious.feat > $(PREF).suspicious.regions

